{% extends "base.html" %}

{% block content %}
<h2 style="color: #333; font-size: 24px; margin-bottom: 20px;">AI Usage Limit Alert</h2>

<p style="color: #666; font-size: 16px; line-height: 1.5; margin-bottom: 20px;">
    Hi {{ user_name }},
</p>

<p style="color: #666; font-size: 16px; line-height: 1.5; margin-bottom: 30px;">
    You're approaching your monthly AI usage limit on LOGOS AI Ecosystem. Here's your current usage status:
</p>

<div style="background-color: #fff3cd; padding: 20px; border-radius: 5px; margin-bottom: 30px;">
    <h3 style="color: #856404; font-size: 18px; margin-bottom: 15px;">Usage Summary</h3>
    
    <div style="margin-bottom: 20px;">
        <div style="background-color: #e9ecef; border-radius: 10px; overflow: hidden; height: 30px; margin-bottom: 10px;">
            <div style="background-color: {% if usage_percentage >= 90 %}#dc3545{% elif usage_percentage >= 75 %}#ffc107{% else %}#28a745{% endif %}; height: 100%; width: {{ usage_percentage }}%; transition: width 0.3s;"></div>
        </div>
        <p style="color: #666; font-size: 14px; margin: 0; text-align: center;">
            <strong>{{ usage_percentage }}%</strong> of monthly limit used
        </p>
    </div>
    
    <table style="width: 100%; border-collapse: collapse;">
        <tr>
            <td style="padding: 10px 0; border-bottom: 1px solid rgba(0,0,0,0.1);">
                <strong style="color: #333;">Tokens Used:</strong>
            </td>
            <td style="padding: 10px 0; border-bottom: 1px solid rgba(0,0,0,0.1); text-align: right;">
                <span style="color: #666;">{{ tokens_used|number_format }} / {{ monthly_limit|number_format }}</span>
            </td>
        </tr>
        <tr>
            <td style="padding: 10px 0; border-bottom: 1px solid rgba(0,0,0,0.1);">
                <strong style="color: #333;">Requests Made:</strong>
            </td>
            <td style="padding: 10px 0; border-bottom: 1px solid rgba(0,0,0,0.1); text-align: right;">
                <span style="color: #666;">{{ requests_made }}</span>
            </td>
        </tr>
        <tr>
            <td style="padding: 10px 0;">
                <strong style="color: #333;">Days Remaining:</strong>
            </td>
            <td style="padding: 10px 0; text-align: right;">
                <span style="color: #666;">{{ days_remaining }} days</span>
            </td>
        </tr>
    </table>
</div>

<div style="background-color: #e8f5e9; padding: 20px; border-radius: 5px; margin-bottom: 30px;">
    <h3 style="color: #2e7d32; font-size: 18px; margin-bottom: 10px;">Upgrade to Premium</h3>
    <p style="color: #666; font-size: 14px; line-height: 1.6; margin-bottom: 15px;">
        Unlock unlimited AI usage and premium features:
    </p>
    <ul style="color: #666; font-size: 14px; line-height: 1.8; margin: 0 0 15px 0; padding-left: 20px;">
        <li>Unlimited AI tokens per month</li>
        <li>Priority processing for all requests</li>
        <li>Access to advanced AI models</li>
        <li>Enhanced API rate limits</li>
        <li>Dedicated support</li>
    </ul>
    <div style="text-align: center;">
        <a href="{{ upgrade_link }}" style="display: inline-block; padding: 12px 25px; background-color: #28a745; color: white; text-decoration: none; border-radius: 5px; font-weight: bold;">
            Upgrade Now
        </a>
    </div>
</div>

<div style="background-color: #f8f9fa; padding: 15px; border-radius: 5px; margin-bottom: 20px;">
    <h4 style="color: #333; font-size: 16px; margin-bottom: 10px;">Tips to Optimize Your Usage:</h4>
    <ul style="color: #666; font-size: 14px; line-height: 1.6; margin: 0; padding-left: 20px;">
        <li>Use shorter, more concise prompts when possible</li>
        <li>Batch similar requests together</li>
        <li>Clear unnecessary conversation history</li>
        <li>Consider upgrading if you regularly hit limits</li>
    </ul>
</div>

<p style="color: #666; font-size: 14px; line-height: 1.5; margin-bottom: 20px;">
    Your usage limit will reset on <strong>{{ reset_date }}</strong>. You can view detailed usage statistics 
    in your dashboard.
</p>

<div style="text-align: center; margin-top: 30px;">
    <a href="{{ dashboard_link }}" style="display: inline-block; padding: 10px 20px; background-color: #6c757d; color: white; text-decoration: none; border-radius: 5px; font-size: 14px;">
        View Usage Details
    </a>
</div>
{% endblock %}